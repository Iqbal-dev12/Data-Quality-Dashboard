/* Data Quality Dashboard - Premium Theme Enhancements */

:root {
	--bg: #080d1c;
	--bg-grad: radial-gradient(1200px 800px at 20% -10%, rgba(99,102,241,.12), transparent 40%), radial-gradient(900px 700px at 95% 10%, rgba(34,197,94,.10), transparent 45%), linear-gradient(180deg, #0a0f1d 0%, #081124 60%, #070b17 100%);
	--panel: #0c1326;
	--panel-2: #0f172a;
	--border: rgba(255,255,255,.10);
	--elev: 0 12px 30px rgba(0,0,0,.35);

	--text: #e8eaf1;
	--muted: #a3acc2;
	--contrast: #ffffff;

	--brand: #6366f1; /* indigo */
	--accent: #06b6d4; /* cyan */
	--accent-2: #16a34a; /* green */
	--warn: #f59e0b;
	--error: #ef4444;
	--valid: #10b981;

	--radius: 16px;
	--r-sm: 12px;

	--s1: 6px;
	--s2: 12px;
	--s3: 18px;
	--s4: 24px;
}

/* App chrome */
html, body, [data-testid="stAppViewContainer"] {
	background: var(--bg-grad);
	color: var(--text);
	font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}
.block-container { padding-top: 8px; padding-bottom: 80px; }

/* Remove any top decoration/shadow that can appear as a strip */
header[data-testid="stHeader"] { background: transparent !important; border: none !important; box-shadow: none !important; }
[data-testid="stDecoration"] { display: none !important; }

/* Ensure the container around the hero has no borders or pseudo lines */
.block-container > div:has(.hero-title) { border: none !important; box-shadow: none !important; background: transparent !important; }

/* Headings */
.section-title { position: relative; }
.section-title::after {
	content: "";
	display: block;
	width: 48px;
	height: 3px;
	margin-top: 8px;
	background: linear-gradient(90deg, var(--brand), var(--accent));
	border-radius: 999px;
	opacity: .6;
}

/* Hero title (no underline, clean background) */
.hero-title {
	font-size: 36px;
	font-weight: 900;
	color: #c4b5fd; /* lavender */
	letter-spacing: .3px;
	margin: 8px 0 4px 0;
}
/* Do not apply section-title underline to hero */
.hero-title::after { display: none !important; content: none !important; }

/* Cards with gradient borders and soft glow */
.card, .element-container:has(canvas), .element-container:has(svg), .kpi-card {
	position: relative;
	background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
	border-radius: var(--radius);
	border: 1px solid var(--border);
	box-shadow: var(--elev);
	padding: var(--s3);
}
.card::before, .element-container:has(canvas)::before, .element-container:has(svg)::before, .kpi-card::before {
	content: "";
	position: absolute;
	inset: 0;
	border-radius: inherit;
	padding: 1px;
	background: linear-gradient(135deg, rgba(99,102,241,.35), rgba(6,182,212,.25), rgba(22,163,74,.25));
	-webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
	-webkit-mask-composite: xor;
	mask-composite: exclude;
	pointer-events: none;
}
.card:hover, .element-container:has(canvas):hover, .element-container:has(svg):hover, .kpi-card:hover {
	box-shadow: 0 18px 44px rgba(0,0,0,.5);
	transform: translateY(-1px);
	transition: all .18s ease;
}

/* KPI specifics */
.kpi-title { font-size: 12px; color: var(--muted); letter-spacing: .08em; text-transform: uppercase; margin-bottom: 6px; }
.kpi-value { font-size: 32px; font-weight: 900; color: var(--contrast); }
.kpi-delta { font-weight: 800; }
.kpi-delta.pos { color: var(--valid); }
.kpi-delta.neg { color: var(--error); }
.kpi-delta.neu { color: var(--muted); }

/* Progress bar for DQ score */
.dq-progress { background: rgba(255,255,255,.06); border: 1px solid var(--border); border-radius: 999px; height: 14px; width: 100%; overflow: hidden; }
.dq-progress .fill { background: linear-gradient(90deg, var(--valid), #22c55e); height: 100%; border-radius: 999px; transition: width .4s ease; }
.dq-progress .label { margin-top: 6px; font-size: 12px; color: var(--muted); }

/* Inputs */
.stTextInput>div>div>input,
.stDateInput input,
.stSelectbox>div>div>select,
.stSlider {
	background: #0b1222 !important;
	color: var(--text) !important;
	border: 1px solid var(--border) !important;
	border-radius: var(--r-sm) !important;
}
.stTextInput>div>div>input:focus,
.stDateInput input:focus,
.stSelectbox>div>div>select:focus { outline: 2px solid rgba(99,102,241,.5) !important; outline-offset: 1px !important; }

/* Buttons */
.stButton>button, button[kind="primary"] {
	background: linear-gradient(180deg, var(--brand), var(--accent));
	border: none;
	border-radius: var(--r-sm);
	color: #fff;
	padding: 10px 14px;
	font-weight: 800;
	box-shadow: 0 10px 24px rgba(99,102,241,.35);
	transition: transform .08s ease, box-shadow .2s ease, filter .2s ease;
}
.stButton>button:hover { transform: translateY(-1px); filter: brightness(1.04); }
.stButton>button:active { transform: translateY(0); }

/* Tabs */
.stTabs [role="tablist"] { gap: 8px; }
.stTabs [role="tab"] { background: rgba(255,255,255,.04); border: 1px solid var(--border); color: var(--text); border-radius: var(--r-sm); padding: 8px 12px; }
.stTabs [aria-selected="true"] { background: linear-gradient(180deg, rgba(99,102,241,.22), rgba(6,182,212,.20)); border-color: rgba(99,102,241,.45); }

/* Tables */
[data-testid="stDataFrame"] table { background: var(--panel); color: var(--text); border-radius: var(--r-sm); overflow: hidden; }
[data-testid="stDataFrame"] thead tr th { background: #0f1a33; border-bottom: 1px solid var(--border); color: var(--muted); font-size: 12px; text-transform: uppercase; letter-spacing: .04em; }
[data-testid="stDataFrame"] tbody tr td { border-bottom: 1px solid rgba(255,255,255,.06); }
[data-testid="stDataFrame"] tbody tr:hover td { background: rgba(255,255,255,.03); }

/* Footer with symmetric four-column grid */
.app-footer { position: fixed; left: 0; right: 0; bottom: 0; z-index: 100; background: #0f172a; border-top: 1px solid rgba(0,0,0,0.4); padding: 10px 20px; }
.app-footer .footer-links { display: flex; justify-content: space-between; align-items: flex-start; width: 100%; }
.app-footer .footer-item { text-align: center; position: relative; }
.app-footer a { display: inline-flex; align-items: center; justify-content: center; min-width: 160px; text-align: center; padding: 6px 10px; border: 1px solid #000; border-radius: 10px; text-decoration: none; font-weight: 800; font-size: 14px; color: #fff; background: rgba(255,255,255,0.06); }
.app-footer a:hover { filter: brightness(1.12); }

/* Responsive */
@media (max-width: 900px) { .app-footer a { min-width: 130px; font-size: 13px; padding: 5px 8px; } }
@media (max-width: 680px) { .app-footer .footer-links { grid-template-columns: repeat(2, 1fr); row-gap: 10px; column-gap: 14px; } }

/* --- Premium polish additions --- */

/* Accent separators under section titles */
.section-title { position: relative; }
.section-title::after {
	content: "";
	display: block;
	width: 52px;
	height: 3px;
	margin-top: 8px;
	background: linear-gradient(90deg, #6366f1, #06b6d4);
	border-radius: 999px;
	opacity: .7;
}

/* KPI hover glow and subtle lift */
.kpi-card { transition: transform .15s ease, box-shadow .25s ease; }
.kpi-card:hover { transform: translateY(-2px); box-shadow: 0 18px 44px rgba(0,0,0,.5); }

/* Buttons: secondary and subtle variants */
.stButton>button,
button[kind="primary"] {
	background: linear-gradient(180deg, #6366f1, #06b6d4);
	border: none;
	border-radius: 12px;
	padding: 10px 16px;
	font-weight: 800;
	color: #fff;
	box-shadow: 0 12px 26px rgba(99,102,241,.35);
}
.stButton>button:hover { filter: brightness(1.05); transform: translateY(-1px); }
.stButton>button:active { transform: translateY(0); }

/* Inputs and selects */
.stTextInput>div>div>input,
.stDateInput input,
.stSelectbox>div>div>select,
.stSlider {
	background: #0e1730 !important;
	border: 1px solid rgba(255,255,255,.10) !important;
	border-radius: 12px !important;
	color: #e8eaf1 !important;
}
.stTextInput>div>div>input:focus,
.stDateInput input:focus,
.stSelectbox>div>div>select:focus {
	outline: 2px solid rgba(99,102,241,.55) !important;
	outline-offset: 1px !important;
}

/* Tabs refinement */
.stTabs [role="tablist"] { gap: 10px; }
.stTabs [role="tab"] {
	background: rgba(255,255,255,.05);
	border: 1px solid rgba(255,255,255,.10);
	border-radius: 12px;
	color: #e8eaf1;
	padding: 8px 14px;
}
.stTabs [aria-selected="true"] {
	background: linear-gradient(180deg, rgba(99,102,241,.22), rgba(6,182,212,.20));
	border-color: rgba(99,102,241,.45);
}

/* Alert banner styling */
[data-baseweb="notification"] {
	border-radius: 12px !important;
	border: 1px solid rgba(255,255,255,.12) !important;
	box-shadow: 0 14px 40px rgba(0,0,0,.45) !important;
}

/* Dataframe table tweaks */
[data-testid="stDataFrame"] table { border-radius: 12px; }
[data-testid="stDataFrame"] thead tr th { background: #10203f; }
[data-testid="stDataFrame"] tbody tr:hover td { background: rgba(255,255,255,.04); }

/* Footer buttons style harmonization */
.app-footer a {
	background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.06));
	border-radius: 12px;
	border: 1px solid #000;
	color: #fff;
}

/* Drill-down action buttons */
.drill-actions .stButton>button {
	background: linear-gradient(180deg, #1f2937, #3b82f6);
	border: 1px solid rgba(147,197,253,.45);
	color: #ffffff;
	font-weight: 900;
	padding: 10px 14px;
	border-radius: 12px;
	box-shadow: 0 10px 24px rgba(59,130,246,.28);
}
.drill-actions .stButton>button:hover { filter: brightness(1.05); transform: translateY(-1px); }

/* Sidebar - purple/black gradient */
[data-testid="stSidebar"] {
	background: linear-gradient(180deg, #111827 0%, #1f1646 45%, #0a0f1d 100%) !important;
	border-right: 1px solid rgba(124,58,237,.35) !important;
	box-shadow: 0 14px 40px rgba(79,70,229,.25);
}
[data-testid="stSidebar"] * { color: #e8eaf1; }
[data-testid="stSidebar"] .st-af { color: #a3acc2; }

/* Final polish */

/* Sticky table header for better readability on long tables */
[data-testid="stDataFrame"] thead th {
	position: sticky;
	top: 0;
	z-index: 2;
}

/* Subtle custom scrollbars (WebKit) */
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-track { background: rgba(255,255,255,0.04); }
*::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.18); border-radius: 8px; }
*::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.28); }

/* Minor spacing tweaks */
.block-container { padding-top: 8px; padding-bottom: 84px; }
.section-title { margin-top: 4px; }

/* Final touches: smooth transitions, loading states, and micro-interactions */
* { transition: all 0.15s ease; }

/* Loading spinner enhancement */
.stSpinner > div { border-color: #6366f1 transparent #6366f1 transparent; }

/* Metric cards subtle pulse on hover */
.stMetric { transition: transform 0.2s ease, box-shadow 0.3s ease; }
.stMetric:hover { transform: translateY(-1px); box-shadow: 0 8px 25px rgba(0,0,0,0.15); }

/* Tab content fade-in */
.stTabs [role="tabpanel"] { animation: fadeIn 0.3s ease-in; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* Success/error message styling */
.stSuccess { background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(34,197,94,0.05)); border-left: 4px solid #10b981; }
.stError { background: linear-gradient(135deg, rgba(239,68,68,0.1), rgba(220,38,38,0.05)); border-left: 4px solid #ef4444; }
.stWarning { background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(217,119,6,0.05)); border-left: 4px solid #f59e0b; }

/* Caption styling */
.stCaption { color: #9ca3af; font-style: italic; }

/* Download button enhancement */
.stDownloadButton > button { 
	background: linear-gradient(180deg, #16a34a, #15803d) !important;
	border: 1px solid rgba(22,163,74,0.4) !important;
	box-shadow: 0 8px 20px rgba(22,163,74,0.25) !important;
}
.stDownloadButton > button:hover { 
	filter: brightness(1.05); 
	transform: translateY(-1px); 
	box-shadow: 0 12px 28px rgba(22,163,74,0.35) !important;
}

/* === Final premium polish pass === */

/* Gradient hero title (with safe fallback color already set) */
.hero-title {
	background: linear-gradient(90deg, #c4b5fd 0%, #93c5fd 35%, #86efac 70%, #c4b5fd 100%);
	-webkit-background-clip: text;
	background-clip: text;
	color: transparent;
	text-shadow: 0 2px 14px rgba(196,181,253,.18);
}

/* Softer, glassy cards and chart containers */
.card, .kpi-card, .element-container:has(canvas), .element-container:has(svg) {
	background: linear-gradient(180deg, rgba(255,255,255,.045), rgba(255,255,255,.02));
	backdrop-filter: blur(6px) saturate(120%);
	border: 1px solid rgba(255,255,255,.12);
	box-shadow: 0 20px 48px rgba(2,6,23,.55);
	transition: transform .18s ease, box-shadow .25s ease, border-color .2s ease;
}
.card:hover, .kpi-card:hover, .element-container:has(canvas):hover, .element-container:has(svg):hover {
	transform: translateY(-2px);
	box-shadow: 0 26px 64px rgba(2,6,23,.65);
	border-color: rgba(255,255,255,.18);
}

/* KPI value subtle gradient */
.kpi-value {
	background: linear-gradient(180deg, #ffffff, #d1d5db);
	-webkit-background-clip: text;
	background-clip: text;
	color: transparent;
}

/* Inputs: clearer focus ring and slight glow */
.stTextInput>div>div>input:focus,
.stDateInput input:focus,
.stSelectbox>div>div>select:focus {
	outline: 2px solid rgba(99,102,241,.7) !important;
	box-shadow: 0 0 0 4px rgba(99,102,241,.18);
}

/* Buttons: smoother hover and active depth */
.stButton>button, button[kind="primary"] {
	box-shadow: 0 14px 30px rgba(99,102,241,.38);
}
.stButton>button:hover { transform: translateY(-2px); box-shadow: 0 18px 40px rgba(99,102,241,.45); }
.stButton>button:active { transform: translateY(0); box-shadow: 0 10px 22px rgba(99,102,241,.32); }

/* Sidebar title emphasis */
[data-testid="stSidebar"] h2, [data-testid="stSidebar"] h3 {
	color: #e8eaf1;
	text-shadow: 0 2px 10px rgba(79,70,229,.25);
}

/* Footer: softer glow */
.app-footer {
	box-shadow: 0 -12px 28px rgba(17,24,39,.6);
	backdrop-filter: blur(8px) saturate(130%);
}
.app-footer a { text-shadow: 0 1px 10px rgba(0,0,0,.35); }

/* Plotly figure background harmonization */
.js-plotly-plot .plotly .bg {
	fill: rgba(15,23,42,.65) !important;
}

/* Section title divider brightness */
.section-title::after { opacity: .85; }

/* Footer item blocks */
.app-footer .footer-links { display: flex; justify-content: space-between; align-items: flex-start; width: 100%; }
.app-footer .footer-item { display:flex; flex-direction:column; align-items:center; gap:4px; }
.app-footer .footer-title a { display:inline-block; padding:6px 10px; border:1px solid #000; border-radius:10px; background: rgba(255,255,255,0.06); color:#fff; font-weight:800; text-decoration:none; min-width:160px; text-align:center; }
.app-footer .footer-desc { color:#e8eaf1; font-weight:600; opacity:.9; font-size:13px; line-height:1.2; }
@media (max-width: 900px) { .app-footer .footer-title a { min-width:130px; } }

/* Footer interactive toggle (single open using radios) */
.app-footer .footer-item { position: relative; }
.app-footer .footer-item input[type="radio"] { display: none; }
.app-footer .footer-item label.footer-title { display:inline-block; padding:6px 10px; border:1px solid #000; border-radius:10px; background: rgba(255,255,255,0.06); color:#fff; font-weight:800; min-width:160px; text-align:center; cursor: pointer; }
.app-footer .footer-item .footer-desc { display:none; position:absolute; bottom:48px; left:50%; transform: translateX(-50%); background: rgba(17,24,39,.96); border:1px solid rgba(124,58,237,.5); color:#e8eaf1; padding:12px 14px; border-radius:12px; box-shadow: 0 18px 44px rgba(0,0,0,.5); width: min(360px, 92vw); text-align:left; z-index: 5; }
.app-footer .footer-item input[type="radio"]:checked + label.footer-title + .footer-desc { display:block; }
.app-footer .footer-item .footer-desc a { color:#c4b5fd; text-decoration: underline; }
@media (max-width: 900px) { .app-footer .footer-item .footer-desc { bottom:56px; } }

/* Star rating styles inside feedback */
.feedback-stars { display:flex; gap:6px; align-items:center; flex-direction: row-reverse; }
.feedback-stars input[type="radio"] { display:none; }
.feedback-stars label { cursor:pointer; font-size:22px; color:#4b5563; transition: color .15s ease; }
.feedback-stars input[type="radio"]:checked ~ label,
.feedback-stars input[type="radio"]:checked ~ label ~ label { color:#f59e0b; }
.feedback-stars label:hover,
.feedback-stars label:hover ~ label { color:#f59e0b; }

.feedback-form textarea { width:100%; min-height:80px; border-radius:10px; border:1px solid rgba(255,255,255,.15); background:#0e1730; color:#e8eaf1; padding:8px 10px; }
.feedback-form button { margin-top:8px; background: linear-gradient(180deg, #111827, #4f46e5); border:1px solid rgba(124,58,237,.6); color:#fff; font-weight:900; padding:8px 12px; border-radius:10px; box-shadow: 0 12px 28px rgba(79,70,229,.35); cursor:pointer; }
.feedback-form button:hover { filter: brightness(1.06); transform: translateY(-1px); }

/* Close button for feedback panel */
.feedback-close {
	position: absolute;
	top: 8px;
	right: 8px;
	background: rgba(239,68,68,.8);
	color: #fff;
	border: none;
	border-radius: 50%;
	width: 24px;
	height: 24px;
	font-size: 14px;
	font-weight: 900;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0 4px 12px rgba(239,68,68,.35);
}
.feedback-close:hover {
	background: rgba(239,68,68,1);
	transform: scale(1.1);
}

/* Vibrant footer buttons (match Controls > Refresh) */
.app-footer .footer-item label.footer-title {
	background: linear-gradient(180deg, #111827, #4f46e5) !important;
	border: 1px solid rgba(124,58,237,.6) !important;
	color: #ffffff !important;
	font-weight: 900 !important;
	padding: 8px 12px !important;
	border-radius: 12px !important;
	box-shadow: 0 12px 28px rgba(79,70,229,.35) !important;
}
.app-footer .footer-item label.footer-title:hover {
	filter: brightness(1.06);
	transform: translateY(-1px);
}

/* Unified description typography for all five items */
.app-footer .footer-item .footer-desc {
	color: #e8eaf1 !important;
	font-size: 13.5px !important;
	line-height: 1.45 !important;
	font-weight: 700 !important;
}
.app-footer .footer-item .footer-desc a { color:#c4b5fd !important; text-decoration: underline !important; }

/* Sidebar Controls buttons - match hero title palette */
[data-testid="stSidebar"] .stButton>button {
	background: linear-gradient(90deg, #c4b5fd 0%, #93c5fd 50%, #86efac 100%) !important;
	border: 1px solid rgba(196,181,253,.55) !important;
	color: #0b1222 !important;
	font-weight: 900 !important;
	border-radius: 12px !important;
	box-shadow: 0 10px 24px rgba(147,197,253,.35) !important;
}
[data-testid="stSidebar"] .stButton>button:hover {
	filter: brightness(1.06);
	transform: translateY(-1px);
}

/* Sidebar Controls title uses hero gradient */
[data-testid="stSidebar"] h1,
[data-testid="stSidebar"] h2,
[data-testid="stSidebar"] h3 {
	background: linear-gradient(90deg, #c4b5fd 0%, #93c5fd 50%, #86efac 100%) !important;
	-webkit-background-clip: text !important;
	background-clip: text !important;
	color: transparent !important;
	-webkit-text-fill-color: transparent !important;
	text-shadow: 0 2px 12px rgba(147,197,253,.22);
}

/* Softer palette for sidebar buttons */
[data-testid="stSidebar"] .stButton>button {
	background: linear-gradient(90deg, #b3a6f5 0%, #a7c8fb 50%, #a9f3c6 100%) !important;
	border: 1px solid rgba(196,181,253,.45) !important;
	color: #0b1222 !important;
	box-shadow: 0 8px 20px rgba(147,197,253,.28) !important;
}

/* Specific softer style for Reset Views if adjacent to Refresh */
[data-testid="stSidebar"] .stButton:has(button#reset_views_btn) > button {
	background: linear-gradient(90deg, #cbd5e1, #a7c8fb) !important;
	border: 1px solid rgba(148,163,184,.5) !important;
	color: #0b1222 !important;
	box-shadow: 0 6px 16px rgba(148,163,184,.25) !important;
}

/* feedback-close as label */
label.feedback-close {
	position: absolute;
	top: 8px;
	right: 8px;
	background: rgba(239,68,68,.85);
	color: #fff;
	border-radius: 50%;
	width: 24px;
	height: 24px;
	font-size: 14px;
	font-weight: 900;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0 4px 12px rgba(239,68,68,.35);
}
label.feedback-close:hover { background: rgba(239,68,68,1); transform: scale(1.1); }

/* Sidebar buttons match Warnings (amber) theme */
[data-testid="stSidebar"] .stButton>button {
	background: linear-gradient(180deg, #f59e0b, #d97706) !important;
	border: 1px solid rgba(245,158,11,.55) !important;
	color: #0b1222 !important;
	font-weight: 900 !important;
	border-radius: 12px !important;
	box-shadow: 0 10px 24px rgba(245,158,11,.35) !important;
}
[data-testid="stSidebar"] .stButton>button:hover { filter: brightness(1.05); transform: translateY(-1px); }

/* Sidebar buttons match vibrant blue theme */
[data-testid="stSidebar"] .stButton>button {
	background: linear-gradient(180deg, #3b82f6, #2563eb) !important;
	border: 1px solid rgba(37,99,235,.55) !important;
	color: #ffffff !important;
	font-weight: 900 !important;
	border-radius: 12px !important;
	box-shadow: 0 10px 24px rgba(37,99,235,.35) !important;
}
[data-testid="stSidebar"] .stButton>button:hover { filter: brightness(1.06); transform: translateY(-1px); }																																																																																																																																																																																																																																																																																			
